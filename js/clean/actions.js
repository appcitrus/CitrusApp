function InitActions() {    LoadActionsResults(0);    var LS = LazyListViewComponent("actions-listview", "actions-page", LoadActionsResults);}function LoadActionsResults(position_to_get) {    var category,        u = $.mobile.path.parseUrl(document.URL);    if (u.href.search("category=") !== -1) {    if (u.hash != undefined) {            category =  u.hash.replace(/.*category=/, "");        }    }    var request = "&q=" + encodeURIComponent($("#search-page-search-input").val())+"&category="+category;    ShowLoading();    $.ajax({        url: "http://m.citrus.ua/ajax/actions.php?position=" + position_to_get + "&count=40" + request,        dataType: 'json',        success: function(json) {            var output = "", count = 0, line;            if (json.items !== undefined) $.each(json.items, function(key, value) {                var url, lazy = "";                if (key == json.items.length - 1) {                    if (json.parameters && json.parameters.lazy && json.parameters.lazy == 1) {                        lazy = "lazy_load_more";                    }                }                var image = "";                if (value.picMain != undefined) {                    if(value.picMain.indexOf("clear.gif")==-1){                        image = '<div class="action_image"><img src="' + value.picMain + '" ></div>';                    }                }                if (value.arhiv == "Y" && localStorage.one_line == 'true') {                    line = '<div id="product-card-info" class="product-card-module main-module arhiv_line">Архивные акции</div>';                    localStorage.one_line = 'false';                } else {                    line = '';                }                output += line + '<li class="action_item ' + lazy + '"><a onclick="Showtextpage(' + value.id + ')" data-transition="slide" data-ajax=false"> <h2 class="item_name_only product">' + value.name + '</h2>' + image + '<div class="preview_text">' + value.text + '</div></a></li>';            });            if (position_to_get > 0) {                $('#actions-listview').html($('#actions-listview').html() + output).listview("refresh");            } else {                $('#actions-listview').html(output).listview("refresh");            }            $.mobile.loading("hide");            ProssedTapEvents();        },        timeout: 25000,        error: function(jqXHR, status, errorThrown) { //the status returned will be "timeout"             $.mobile.loading("hide");            ShowMessage(1);        }    });}